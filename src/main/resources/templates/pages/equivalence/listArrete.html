<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
 <meta charset="utf-8">
  <base href="http://localhost:8080/listArrete" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>Arrete - Administration Equivalence FOP(67Ha)</title>
        <link rel="shortcut icon" href="assets/dist/img/favicon.png" type="image/x-icon">
        <script src="assets/js/webfont.js"></script>
    
        <script>
            WebFont.load({
                google: {families: ['Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i']},
                active: function () {
                    sessionStorage.fonts = true;
                }
            });
        </script>
        <!-- START GLOBAL MANDATORY STYLE -->
        <link href="assets/dist/css/base.css"rel="stylesheet" type="text/css">
        
        	<!-- START PAGE LABEL PLUGINS --> 
        <link href="assets/plugins/jquery.sumoselect/sumoselect.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/plugins/select2/select2.min.css" rel="stylesheet" type="text/css"/>
        
        <!-- START PAGE LABEL PLUGINS --> 
        <link href="assets/plugins/modals/modal-component.css" rel="stylesheet" type="text/css"/>
        
        <!-- START THEME LAYOUT STYLE -->
        <link href="assets/dist/css/style.css"rel="stylesheet" type="text/css"/>
       
<title>Liste arrete</title>
</head>
<body class="hold-transition fixed sidebar-mini">
        
        <!-- Preloader -->
        <div class="preloader"></div>
        
        <!-- Site wrapper -->
        <!-- Content Wrapper. Contains page content -->
        <div th:replace="fragments/header :: header">Static header</div>   
        	<div class="content-wrapper">
        		<div class="content">
	        		<div class="content-header">
	                    <div class="header-icon">
	                        <i class="pe-7s-note2"></i>
	                    </div>
	                    <div class="header-title">
	                        <h1>Tous les arr&ecirc;t&eacute;s</h1>
	                        <small></small>
	                        <ol class="breadcrumb">
	                            <li><a href="/homePage"><i class="pe-7s-home"></i> Accueil </a></li>
	                            <li ><a href="#">Equivalence</a></li>
	                            <li class="active">Liste des arr&ecirc;t&eacute;s</li>
	                        </ol>
	                    </div>
	                </div> <!-- /. Content Header (Page header) -->
	              	<div class="row">
	                   <div class="col-sm-10">
	                       <div class="panel panel-bd lobidrag">
	                           <div class="panel-heading">
	                               <div class="panel-title">
	                                   <h4>Liste des arr&ecirc;t&eacute;s</h4>
	                               </div>
	                           </div>
	                           <div class="panel-body">
                                	<div th:if="${not #lists.isEmpty(arreteList)}">
	                            
                                    <div class="table-responsive">
                                        <input type="text" class="form-control input-sm m-b-15" id="filter" placeholder="Search in table">
                                        <table id="example1" class="footable table table-bordered toggle-arrow-tiny" data-page-size="8" data-filter=#filter>
                                            <thead>
                                               <tr>
	                                               <th>N°  </th>
	                                               <th>Titre </th>
	                                               <th>Anne&eacute; sortie </th>
	                                               <th>Action</th>
	                                           </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="arrete : ${arreteList}">
                                               	   <td th:text="${arrete.id}"></td>
                                               	   <td><a th:href="#" th:text="${arrete.titre}"></a></td>
	                                               <td><a th:href="#" th:text="${arrete.anneeSortie}"></a></td>
                                                   <td>
                                                   	   <a th:href="'/showArrete/'+${arrete.id}"><button class="btn btn-info btn-sm" data-toggle="tooltip" data-placement="top" title="Voir"><i class="fa fa-open-file" aria-hidden="true"></i></button></a>
                                                	   <a th:href="'/editArrete/'+${arrete.id}"><button class="btn btn-base btn-sm" data-toggle="tooltip" data-placement="top" title="Modifier"><i class="fa fa-pencil" aria-hidden="true"></i></button></a>
                                                   </td>
                                               	</tr>
                                            </tbody>
                                            <tfoot>
                                                <tr>
                                                    <td colspan="6">
                                                        <ul class="pagination pull-right"></ul>
                                                    </td>
                                                </tr>
                                            </tfoot>
                                        </table>
                               		</div>
                                   </div>
                                </div>
	                       </div>
	                   	</div>
	                   	<div class="col-sm-2">
	                   		<button type="button" class="btn btn-primary w-md m-rb-5" data-toggle="modal" data-target="#myModal">Cre&eacute;r une nouvelle arr&ecirc;t&eacute;</button>
	                   	</div>
	                   	<!-- MODALS DIALOG -->
             		 	<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
                           	<div class="modal-dialog" role="document">
                               <div class="modal-content">
                                   	 <div class="modal-header">
                                         <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                         <h1 class="modal-title">Nommer l'arr&ecirc;t&eacute; </h1>
                                     </div>
                                     <form th:object="${arreteEqRefForm}" th:action="@{/saveArrete}" method="POST">
	                                     <div th:if="${#fields.hasErrors('*')}" class="alert alert-sm alert-danger alert-dismissible" role="alert">
		                                  	<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		                                  	<i class="fa fa-exclamation-circle"></i><strong th:text="#{form.hasErrors}" >Error Message!!!</strong> 
		                              	</div>
		                              	
	                                     <div class="modal-body">
	                                        <div class="form-group row">
		                                        <label for="example-text-input" class="col-sm-3 col-form-label">Nommer le titre de l'Arr&ecirc;t&eacute; :</label>
		                                        <div class="col-sm-9">
		                                            <input class="form-control" type="text" th:field="*{titre}" id="example-text-input" placholder="Titre de l'arrêté d'équivalence ..." required>
		                                        </div>
		                                    </div>
		                                     	
			                              	<div class="form-group row">
			                                	<div th:if="${not #lists.isEmpty(listeDiploma)}">
			                                        <label class="col-sm-3 col-form-label">Veuillez selectionner un dipl&ocirc;me </label>
			                                        <div class="col-sm-7">
			                                            <select class="form-control basic-single" th:field="*{listesDiplome}">
			                                            	<div th:each="ecole : ${listEcole}">
			                                            		<optgroup th:label="'Ecole délivreur '+${ecole} + ' : '">
			                                            			<div th:each="diplome : ${listeDiploma}">
			                                            				<div th:if="${ecole == diplome.ecole}">
					                                           				<option th:value="${diplome.id}" th:text="${diplome.niveauDiplome.niveau} + ' EN ' + ${diplome.filiere} + ' option:' + ${diplome.option} "></option>
					                                           			</div>
					                                           		</div>
					                                           	</optgroup>
			                                            	</div>
			                                            </select>
			                                        </div>
			                                    </div>
												<div class="col-sm-1 col-form-label"><b><a href="/newDiploma" data-toggle="tooltip" data-placement="right" title="Ajouter une nouvelle Diplome" th:text="'Nouveau!!!'"></a></b></div>
			                                </div>
		                                    <div class="form-group row">
		                                        <label class="col-sm-3 col-form-label">Anne&eacute; sortie</label>
		                                        <div class="col-sm-7">
		                                            <select class="form-control basic-single" >
		                                                <option disabled="disabled" selected="selected" th:text="'Sortie le'"></option>
		                                                <!--placeholder-->
		                                                <div th:each="annee : ${annees}">
		                                                	<option th:value="${annee}" th:text="${annee}"></option>
		                                                </div>
		                                            </select>
		                                        </div>
		                                    </div>
	                                     </div>
	                                     <div class="modal-footer">
	                                         <button type="submit" class="btn btn-base">Ok</button>
                                             <button type="button" class="btn btn-danger" data-dismiss="modal">Annuler</button>
	                                     </div>
                                     </form>
                                 </div><!-- /.modal-content -->
                             </div><!-- /.modal-dialog -->
                         </div><!-- /.modal -->        
	           		</div>
           		</div>
           	</div>
       	<div th:replace="fragments/footer :: footer">&copy; 2018 The Static Templates</div>
      
        <!-- ./²wrapper -->
        <!-- START CORE PLUGINS -->
        <script src="assets/plugins/jQuery/jquery-1.12.4.min.js"></script>
        <script src="assets/plugins/jquery-ui-1.12.1/jquery-ui.min.js"></script>
        <script src="assets/bootstrap/js/bootstrap.min.js"></script>
        <script src="assets/plugins/slimScroll/jquery.slimscroll.min.js"></script>
        <script src="assets/plugins/fastclick/fastclick.min.js"></script>
        <script src="assets/plugins/metisMenu/metisMenu.min.js"></script>
        <script src="assets/plugins/lobipanel/lobipanel.min.js"></script>
        <!-- Footable Js -->
        <script src="assets/plugins/footable-bootstrap/js/footable.all.min.js"></script>
        <script src="assets/plugins/footable-bootstrap/js/footable-active.js"></script>

         <!-- Sumoselect Js -->
        <script src="assets/plugins/jquery.sumoselect/jquery.sumoselect.min.js"></script>
        <script src="assets/plugins/jquery.sumoselect/sumoselect-active.js"></script>
 
 		  <!-- Select2 Js -->
        <script src="assets/plugins/select2/select2.min.js"></script>
        <script src="assets/plugins/select2/select2-active.js"></script>
        <!-- modals js -->
        <script src="assets/plugins/modals/classie.js"></script>
        <script src="assets/plugins/modals/modalEffects.js"></script>
        <!-- START THEME LABEL SCRIPT -->
        <script src="assets/dist/js/theme.js"></script>
	</body>
	
</html>